{"version":3,"sources":["logo.svg","service/timeString.js","service/btnStates.js","App.js","index.js"],"names":["getTimeString","time","pad","number","String","padStart","Math","floor","btn","start","stop","pause","App","useState","setTime","btnState","setBtnState","button","useRef","useEffect","subscriber","interval","subscribe","unsubscribe","clickStream","fromEvent","current","pipe","buffer","debounceTime","filter","length","className","src","logo","alt","onClick","console","log","handleClickStart","ref","href","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"0OAAe,MAA0B,iC,MCA1B,SAASA,EAAcC,GACpC,IAAMC,EAAM,SAAAC,GAAM,OAAIC,OAAOD,GAAQE,SAAS,EAAG,MAMjD,MAAM,GAAN,OAJuBH,EAAII,KAAKC,MAAON,EAAI,MAAL,OAItC,cAHyBC,EAAII,KAAKC,MAAON,EAAI,KAAgB,KAG7D,cAFyBC,EAAID,EAAO,KCLtC,IAMeO,EANH,CACVC,MAAO,QACPC,KAAM,OACNC,MAAO,S,wCCwFMC,MAnFf,WAAgB,IAAD,EACWC,mBAAS,GADpB,mBACNZ,EADM,KACAa,EADA,OAEmBD,mBAASL,EAAIE,MAFhC,mBAENK,EAFM,KAEIC,EAFJ,KAGPC,EAASC,iBAAO,MAmDtB,OAjDAC,qBAAU,WACR,GAAIJ,IAAaP,EAAIC,MAArB,CAEA,IAAMW,EAAaC,YAAS,KAAMC,WAAU,WAC1CR,EAAQb,EAAO,MAGjB,OAAO,kBAAMmB,EAAWG,kBACvB,CAACR,EAAUd,IAEdkB,qBAAU,WACR,IAAMK,EAAcC,YAAUR,EAAOS,QAAS,SAExCN,EAAaI,EAChBG,KACCC,YAAOJ,EAAYG,KAAKE,YAAa,OACrCC,aAAO,mBAA2B,IAA3B,EAAGC,WAEXT,WAAU,WAELN,EADJD,IAAaP,EAAIC,MACDD,EAAIG,MACJH,EAAIC,UAGxB,OAAO,WACLW,EAAWG,iBAEZ,CAACR,IAuBF,sBAAKiB,UAAU,MAAf,UACE,wBAAQA,UAAU,aAAlB,SACE,qBAAKC,IAAKC,EAAMF,UAAU,WAAWG,IAAI,WAE3C,+BACE,sBAAKH,UAAU,UAAf,UACE,oBAAIA,UAAU,QAAd,uBACA,mBAAGA,UAAU,QAAb,SAAsBhC,EAAcC,KACpC,wBAAQ+B,UAAU,SAASI,QAAS,kBA7BnB,WACvB,OAAQrB,GACN,KAAKP,EAAIE,KAIT,KAAKF,EAAIG,MACPK,EAAYR,EAAIC,OAChB,MAEF,KAAKD,EAAIC,MACPO,EAAYR,EAAIE,MAChBI,EAAQ,GACR,MAEF,QACEuB,QAAQC,IAAI,UAagCC,IAA1C,wBAGA,wBAAQP,UAAU,SAASQ,IAAKvB,EAAhC,kBAGA,wBAAQe,UAAU,SAASI,QAAS,kBAAMtB,EAAQ,IAAlD,wBAKJ,wBAAQkB,UAAU,iBAAlB,SACE,mBAAGA,UAAU,aAAaS,KAAK,8BAA/B,+BC9ERC,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.871b6202.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","export default function getTimeString(time) {\r\n  const pad = number => String(number).padStart(2, '0');\r\n\r\n  const getHours = () => pad(Math.floor((time % (60 * 60 * 24)) / (60 * 60)));\r\n  const getMinutes = () => pad(Math.floor((time % (60 * 60)) / 60));\r\n  const getSeconds = () => pad(time % 60);\r\n\r\n  return `${getHours()} : ${getMinutes()} : ${getSeconds()}`;\r\n}\r\n","const btn = {\r\n  start: 'START',\r\n  stop: 'STOP',\r\n  pause: 'PAUSE',\r\n};\r\n\r\nexport default btn;\r\n","import logo from './logo.svg';\r\nimport './App.css';\r\nimport getTimeString from './service/timeString';\r\nimport btn from './service/btnStates';\r\nimport { useState, useEffect, useRef } from 'react';\r\nimport { debounceTime, buffer, filter } from 'rxjs/operators';\r\nimport { fromEvent, interval } from 'rxjs';\r\n\r\nfunction App() {\r\n  const [time, setTime] = useState(0);\r\n  const [btnState, setBtnState] = useState(btn.stop);\r\n  const button = useRef(null);\r\n\r\n  useEffect(() => {\r\n    if (btnState !== btn.start) return;\r\n\r\n    const subscriber = interval(1000).subscribe(() => {\r\n      setTime(time + 1);\r\n    });\r\n\r\n    return () => subscriber.unsubscribe();\r\n  }, [btnState, time]);\r\n\r\n  useEffect(() => {\r\n    const clickStream = fromEvent(button.current, 'click');\r\n\r\n    const subscriber = clickStream\r\n      .pipe(\r\n        buffer(clickStream.pipe(debounceTime(300))),\r\n        filter(({ length }) => length === 2),\r\n      )\r\n      .subscribe(() => {\r\n        btnState === btn.start\r\n          ? setBtnState(btn.pause)\r\n          : setBtnState(btn.start);\r\n      });\r\n\r\n    return () => {\r\n      subscriber.unsubscribe();\r\n    };\r\n  }, [btnState]);\r\n\r\n  const handleClickStart = () => {\r\n    switch (btnState) {\r\n      case btn.stop:\r\n        setBtnState(btn.start);\r\n        break;\r\n\r\n      case btn.pause:\r\n        setBtnState(btn.start);\r\n        break;\r\n\r\n      case btn.start:\r\n        setBtnState(btn.stop);\r\n        setTime(0);\r\n        break;\r\n\r\n      default:\r\n        console.log('error');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      <header className=\"App-header\">\r\n        <img src={logo} className=\"App-logo\" alt=\"logo\" />\r\n      </header>\r\n      <main>\r\n        <div className=\"wrapper\">\r\n          <h1 className=\"title\">Stopwatch</h1>\r\n          <p className=\"timer\">{getTimeString(time)}</p>\r\n          <button className=\"button\" onClick={() => handleClickStart()}>\r\n            Start/Stop\r\n          </button>\r\n          <button className=\"button\" ref={button}>\r\n            Wait\r\n          </button>\r\n          <button className=\"button\" onClick={() => setTime(0)}>\r\n            Reset\r\n          </button>\r\n        </div>\r\n      </main>\r\n      <footer className=\"footterWrapper\">\r\n        <a className=\"githubLink\" href=\"https://github.com/VollyKor\">\r\n          GitHub Link\r\n        </a>\r\n      </footer>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n\r\n"],"sourceRoot":""}